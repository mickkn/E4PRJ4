\section{Systemarkitektur}

I dette afsnit beskrives systemarkitekturen for den intelligente lydmonitor.

\subsection*{Overordnet virkemåde}
Overordnet skal den intelligente lydmonitor fungere som følger:
\begin{itemize}
	\item Babyens gråd detekteres med en mikrofon og forstærkes med en mikrofonforstærker inden det analoge signal konverteres til diskrete samples med Blackfin's ADC
	\item Den diskrete sample-sekvens i bufferen analyseres med hensyn til power og frekvensindhold og resultatet heraf gemmes i endnu en buffer med analyseresultater
	\item Disse analyseresultater kategoriseres som tre BABYCON-states, som beskrevet i \ref{kravspec:indledning_babycon_states} (OBS: Find enighed om kategorisering)
	\item Kategoriseringsresultatet sendes til Controller via en I2C forbindelse
\end{itemize}

\figur{1}{intlydmonitor/sysark/Intelligent_Lydmonitor_Systemtegning.pdf}{Overordnet virkemåde for Intelligent Lydmonitor}{IL_virmåde}

\newpage
\subsection*{Hardware arkitektur}
\figur{1}{intlydmonitor/sysark/Intelligent_Lydmonitor_IBD.pdf}{IBD for Intelligent Lydmonitor}{IL_IBD}

\textbf{Intelligent Lydmonitor} består af tre dele: 
\begin{itemize}
\item \textbf{Mikrofon} optager signalet babyLyd, som er lyden Baby producerer. 
\item \textbf{Mic Preamp} modtager og forstærker signalet opLyd fra Mikrofon, hvilket er den lyd Mikrofon har optaget. 
\item \textbf{Blackfin} modtager forstærket lyd, forLyd, fra Mic Preamp. Blackfin analyserer lyden og kategoriserer denne, inden den via I2C sender kategoriseringen til Controller. 
\end{itemize}

\newpage
\subsection*{Software arkitektur}




\subsection*{Grænseflade til Controller}